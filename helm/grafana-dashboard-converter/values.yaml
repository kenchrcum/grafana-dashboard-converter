# Default values for grafana-dashboard-converter.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# Application configuration
image:
  repository: kenchrcum/grafana-dashboard-converter
  tag: "0.1.7"
  pullPolicy: Always

# Deployment configuration
replicaCount: 1

# Namespace configuration
watchNamespace: ""
watchAllNamespaces: false

# Resource limits and requests
resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 64Mi

# Pod security context
podSecurityContext:
  fsGroup: 10001

# Container security context
securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: true
  runAsNonRoot: true
  runAsUser: 10001
  capabilities:
    drop:
    - ALL

# Service account configuration
serviceAccount:
  create: true
  annotations: {}
  name: ""

# RBAC configuration
rbac:
  create: true
  clusterRole:
    create: true

# Health check configuration
healthCheck:
  enabled: true
  port: 8080
  livenessProbe:
    initialDelaySeconds: 30
    periodSeconds: 30
    timeoutSeconds: 5
    failureThreshold: 3
  readinessProbe:
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity
affinity: {}

# Pod labels
podLabels: {}

# Pod annotations
podAnnotations: {}

# Grafana configuration
grafana:
  # Labels used to match Grafana instances for dashboard deployment
  instanceSelector:
    matchLabels:
      dashboards: "grafana"
  # Annotation to mark converted dashboards (prevents re-processing)
  convertedAnnotation: "grafana-dashboard-converter/converted-at"
